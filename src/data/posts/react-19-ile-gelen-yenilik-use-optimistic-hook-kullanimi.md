---
date: "2025-01-06"
path: "/react-19-ile-gelen-yenilik-use-optimistic-hook-kullanimi"
title: "React 19 ile Gelen Yenilik: useOptimistic Hook KullanÄ±mÄ±"
category: "Teknik"
keywords: ["React"]
medium: "https://omergulcicek.medium.com/react-19-ile-gelen-yenilik-useoptimistic-hook-kullan%C4%B1m%C4%B1-eebe5cb6a732"
---

![React useOptimistic](/img/blog/2025-01-06/useOptimistic.png)

React 19 ile hayatÄ±mÄ±za birÃ§ok yeni kolaylÄ±k girdi. Bunlardan biri olan `useOptimistic` hook'u, uygulamalarÄ±mÄ±zda optimistic rendering yapmamÄ±za olanak tanÄ±r.

`useOptimistic` sayesinde, bir kullanÄ±cÄ± iÅŸlem gerÃ§ekleÅŸtirdiÄŸinde, iÅŸlem tamamlanana kadar kullanÄ±cÄ±ya **iÅŸlemin tamamlandÄ±ÄŸÄ± varsayÄ±mÄ±yla** bir geri bildirim gÃ¶sterilebilir. Bu yaklaÅŸÄ±m, kullanÄ±cÄ±lara daha akÄ±cÄ± ve tatmin edici bir deneyim sunar.

Ben optimistic UIâ€™Ä± Ã¶zetle "mÄ±ÅŸ gibi" olarak adlandÄ±rÄ±yorum, yani bir ÅŸey gerÃ§ekleÅŸmeden Ã¶nce, olmuÅŸ gibi davranmak. Ã–rneÄŸin, bir kullanÄ±cÄ± bir tweetâ€™i beÄŸendiÄŸinde, normalde backendâ€™e bir istek gÃ¶nderilir ve baÅŸarÄ± yanÄ±tÄ± alÄ±ndÄ±ktan sonra kullanÄ±cÄ±ya bu iÅŸlem gÃ¶sterilir. Optimistic UI yaklaÅŸÄ±mÄ± ise APIâ€™den yanÄ±t gelmeden, iÅŸlemin baÅŸarÄ±lÄ± olduÄŸunu varsayarak kullanÄ±cÄ±ya sonucu hemen gÃ¶sterir. Bu sayede kullanÄ±cÄ±, sitenin hÄ±zlÄ± Ã§alÄ±ÅŸtÄ±ÄŸÄ±na inanÄ±r. Bu sÄ±rada, iÅŸlem backendâ€™de gerÃ§ekleÅŸtirilir. EÄŸer beÄŸenme iÅŸlemi baÅŸarÄ±sÄ±z olursa, sistem durumu eski haline dÃ¶ndÃ¼rÃ¼r.

AÅŸaÄŸÄ±daki Ã¶rneÄŸi inceleyelim. Bir butona tÄ±klandÄ±ÄŸÄ±nda saÄŸdaki optimistic UI ile geliÅŸtirilmiÅŸ kod, backendâ€™den yanÄ±t gelmesini beklemeden sayÄ±yÄ± artÄ±rÄ±r. Soldaki normal kullanÄ±m ise backendâ€™den yanÄ±tÄ±n gelmesini bekler.

![React useOptimistic hook](/img/blog/2025-01-06/optimistic-ui.gif)
## KullanÄ±mÄ±

Ã–ncelikle klasik React hook'larÄ± gibi bir hook tanÄ±mlÄ±yoruz.

```javascript
const [optimisticState, applyOptimisticUpdate] = useOptimistic(initialState, updaterFunction);
```

- **initialState**: Optimistic state'in baÅŸlangÄ±Ã§ deÄŸeri
- **updaterFunction**: Optimistic state'i gÃ¼ncelleyen fonksiyon

Ã–rnek bir kullanÄ±m:

```javascript
import { useState } from 'react';
import { useOptimistic } from 'react';
import { fakeApiToAddTodo } from '@/api';

function TodoList() {
  const [todos, setTodos] = useState([]);
  const [optimisticTodos, addOptimisticTodo] =
	useOptimistic(todos,(todos, newTodo) => [...todos, newTodo]);

const handleAddTodo = async (newTodo) => {
	/* Parametre olarak gelen yeni deÄŸeri backend'e gÃ¶ndermeden Ã¶nce
	optimistic state'e ekleyelim */
	addOptimisticTodo(newTodo);

	/* Bu aÅŸamada UI'da kullanÄ±cÄ± bu iÅŸlemin tamamlandÄ±ÄŸÄ±nÄ± gÃ¶recek
	fakat henÃ¼z API isteÄŸi baÅŸlatÄ±lmadÄ± bile */

	try {
		// Yeni todo'yu backend'e gÃ¶nderiyouz
		await fakeApiToAddTodo(newTodo);
	} catch (error) {
		// API isteÄŸi baÅŸarÄ±sÄ±z olursa, optimistic ui iÅŸlemini geri alÄ±yoruz
		setTodos((prevTodos) => prevTodos.filter((todo) => todo !== newTodo));
	}
};

  return (
    <div>
      <ul>
        {optimisticTodos.map((todo, index) => (
          <li key={index}>{todo}</li>
        ))}
      </ul>
      <button onClick={() => handleAddTodo(`New Todo ${Date.now()}`)}>Add Todo</button>
    </div>
  );
}

export default TodoList;
```

Kodu satÄ±r satÄ±r yorumlarla aÃ§Ä±kladÄ±m. GÃ¶rÃ¼ldÃ¼ÄŸÃ¼ gibi, `addOptimisticTodo` fonksiyonu sayesinde optimistic stateâ€™i gÃ¼ncelliyoruz. Bu iÅŸlem, backendâ€™e istek yapÄ±lmadan Ã¶nce gerÃ§ekleÅŸiyor. EÄŸer backendâ€™den yanÄ±t baÅŸarÄ±sÄ±z olursa, optimistic stateâ€™i geri alÄ±yoruz.

Bu hook, kullanÄ±cÄ±ya daha akÄ±cÄ± ve hÄ±zlÄ± bir deneyim sunmak iÃ§in oldukÃ§a kullanÄ±ÅŸlÄ±dÄ±r. Ancak, her zaman kullanmak doÄŸru bir yaklaÅŸÄ±m olmayabilir.

Ã–rneÄŸin, bir Ã¶deme iÅŸlemi sÄ±rasÄ±nda optimistic UI kullanmak, kullanÄ±cÄ±ya yanlÄ±ÅŸ bilgi verebilir. KullanÄ±cÄ± *"Ã–demeniz baÅŸarÄ±lÄ±"* mesajÄ±nÄ± gÃ¶rdÃ¼ÄŸÃ¼nde, iÅŸlem aslÄ±nda baÅŸarÄ±sÄ±z olduysa bu durum kafa karÄ±ÅŸÄ±klÄ±ÄŸÄ±na ve kullanÄ±cÄ± memnuniyetsizliÄŸine yol aÃ§abilir.

Bu nedenle, optimistic UIâ€™Ä± kullanÄ±rken dikkatli olmalÄ±sÄ±nÄ±z. Ä°ÅŸlem baÅŸarÄ±sÄ±z olduÄŸunda kullanÄ±cÄ±ya bu durumu aÃ§Ä±k bir ÅŸekilde gÃ¶sterebilmek iÃ§in uygun geri dÃ¶nÃ¼ÅŸ mekanizmalarÄ±nÄ± tasarlamak oldukÃ§a Ã¶nemlidir.

***

*YazÄ±nÄ±n kapak gÃ¶rseli yapay zeka tarafÄ±ndan Ã¼retilmiÅŸtir. ğŸ¤–*

### Kaynaklar

- <a href="https://react.dev/blog/2024/12/05/react-19#whats-new-in-react-19" target="_blank" rel="noreferrer noopener">React v19 Blog</a>
- <a href="https://medium.com/zestgeek/mastering-reacts-useoptimistic-hook-a-comprehensive-guide-with-examples-75b4637fe760" target="_blank" rel="noreferrer noopener">Love Trivedi - Mastering Reactâ€™s useOptimistic Hook</a>
